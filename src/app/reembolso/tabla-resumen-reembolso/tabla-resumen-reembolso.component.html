<!-- HEADER -->
<div class="page--resumen__container">
    <div class="group-table">
        <div class="page-resumen--title__container">
            <ds-title type="t4" family="secondary" weight="bold" color="primary">
                <span class="titulo-parte-izquierda">Detalle de reembolso de: </span>
                <span class="titulo-parte-derecha">Nombre beneficiario</span>
            </ds-title>
            <div [routerLink]="['/solicitud']">
                <ds-button variant="complementary" slotName="back-button-slot">
                    <ds-icon class="css-1h5x3dy" size="16" color="info6" icon-name="bi-chevron-left"
                        slot="back-button-slot"></ds-icon>
                    <span class="back-button__text" slot="back-button-slot">volver atrás</span>
                </ds-button>
            </div>
        </div>

        <div class="table__container">
            <ds-table>
                <ds-table-header slot="header">
                    <ds-table-header-column slot="column"><span slot="element header-tabla-resumen">Tipo de
                            reembolso</span>
                    </ds-table-header-column>
                    <ds-table-header-column slot="column"><span slot="element header-tabla-resumen">Fecha de
                            emisión</span>
                    </ds-table-header-column>
                    <ds-table-header-column slot="column"><span slot="element header-tabla-resumen">Valor
                            prestaciones</span>
                    </ds-table-header-column>
                    <ds-table-header-column slot="column"><span slot="element">Monto solicitado</span>
                    </ds-table-header-column>
                </ds-table-header>
                <ds-table-body slot="body">
                    <ng-container *ngFor="let solicitud of solicitudes">
                        <ds-table-body-row slot="row" class="sub-totales">
                            <ds-table-body-column slot="column">
                                <span slot="element">{{solicitud.tipoReembolso}}</span>
                            </ds-table-body-column>
                            <ds-table-body-column slot="column">
                                <span slot="element">$ {{solicitud.valorPrestacion | number :'0.0-2'}}</span>
                            </ds-table-body-column>
                            <ds-table-body-column slot="column">
                                <span slot="element">$ {{solicitud.bonificacion | number :'0.0-2'}}</span>
                            </ds-table-body-column>
                            <ds-table-body-column slot="column">
                                <span slot="element">$ {{solicitud.valorPrestacion - solicitud.bonificacion | number
                                    :'0.0-2'}}</span>
                            </ds-table-body-column>
                        </ds-table-body-row>
                    </ng-container>

                    <!-- rows of totals -->
                    <!-- Row total reembolsar -->
                    <ds-table-body-row class="row_defined wrapper-total row_total" slot="row">
                        <ds-table-body-column slot="column">
                            <span slot="element">Monto total solicitado</span>
                        </ds-table-body-column>
                        <ds-table-body-column slot="column">
                            <span slot="element"></span>
                        </ds-table-body-column>
                        <ds-table-body-column slot="column">
                            <span slot="element"></span>
                        </ds-table-body-column>
                        <ds-table-body-column-actions slot="column">
                            <span class="totalizador-monto-solicitado" slot="element">$ {{montoTotalSolicitado | number
                                :
                                '0.0-2'}}</span>
                        </ds-table-body-column-actions>
                    </ds-table-body-row>
                </ds-table-body>
            </ds-table> <!-- Fin ds-table -->

        </div>
    </div>
    <!-- Nuevo reembolso -->
    <div class="seccion-agregar-nuevo-reembolso">
        <div>
            <ds-paragraph class="pregunta" type="p1" family="primary" weight="bold" color="primary">
                <span slot="text">¿Quieres agregar un nuevo reembolso a esta solicitud?
                </span>
            </ds-paragraph>
        </div>
        <div class="flex items-center">
            <ds-radio class="mx-5" type="s1" family="primary" label="Sí" name="reembolsoIsapre" value="Sí"
                (click)="setValorRadioButtons('si')">
            </ds-radio>
            <ds-radio class="ml -5" type="s1" family="primary" label="No" name="reembolsoIsapre" value="No"
                (click)="setValorRadioButtons('no')">
            </ds-radio>
        </div>
    </div> <!-- Fin Nuevo reembolso -->

    <ng-containter class="otro-reembolso__container" *ngIf="nuevoReembolso=== 'si'">
        <div class="reembolso__row" [ngSwitch]="prestacionSeleccionada">
            <div *ngSwitchCase="1 || 3 || 5 || 6" class="reembolso__row">
                <app-card-option *ngFor="let x of opcionesPrestacionesCLEM;let id = index" [status]="'off'"
                    [name]="x.name" [routerLink]="['/solicitud']" (click)="habilitarSeleccionBeneficiario(false);"
                    [prestacionName]="x.prestacion" (click)="  continuar=true">
                </app-card-option>
            </div>
            <div *ngSwitchCase="4">
                <app-card-option *ngFor="let x of opcionesPrestacionesD;let id =index" [status]="'off'" [name]="x.name"
                    [routerLink]="['/solicitud']" (click)="habilitarSeleccionBeneficiario(false);"
                    [prestacionName]=" x.prestacion" (click)="  continuar=true">
                </app-card-option>
            </div>
            <div *ngSwitchDefault></div>
        </div>
        <div>

        </div>
        <!-- botones-->
        <section>
            <div class="botones__row">
                <ds-button id="ds-button-cancelar" (click)="habilitarSeleccionBeneficiario(true);cancelar()"
                    [size]="'s2'" variant="secondary" slot-name="cancel-button-slot">
                    <span slot="cancel-button-slot">Cancelar</span>
                </ds-button>
                <ds-button id="ds-button-siguiente" (click)="habilitarSeleccionBeneficiario(true)"
                    [disabled]="!continuar" *ngIf="returnValorRadioButtons() == 'si'" [size]="'s2'" variant="primary"
                    slot-name="next-button-slot" [routerLink]="['/final']">
                    <span slot="next-button-slot"> Continuar </span>
                </ds-button>
            </div>
        </section>
    </ng-containter>
    <ng-containter class="otro-reembolso__container" *ngIf="nuevoReembolso === 'no'">
        <!-- botones-->
        <section>
            <div class="botones__row">
                <ds-button id="ds-button-cancelar" (click)="cancelar()" [size]="'s2'" variant="secondary"
                    slot-name="cancel-button-slot">
                    <span slot="cancel-button-slot">Cancelar</span>
                </ds-button>
                <ds-button id="ds-button-finalizar" [size]="'s2'" variant="primary" slot-name="next-button-slot"
                    [routerLink]="['/final']">
                    <span slot="next-button-slot"> Finalizar y Enviar </span>
                </ds-button>

            </div>
        </section>
    </ng-containter>
</div>

<section class="modal-pantalla-final">

    <div class="wrapper-final">
        <div class="grid h-24 grid-cols-12 border-b-2">
            <ds-title class="flex items-center justify-start col-span-12 px-5 text-xl font-bold" type="t4"
                family="secondary" weight="bold" color="primary">
                <span slot="text"><span class="titulo-parte-izquierda">
                        <img src="./../../../assets/svg/final-header-icon.svg" alt="">
                    </span> <span class="titulo-parte-derecha"> Recibimos con éxito tu solicitud de reembolso
                    </span></span>
            </ds-title>
        </div>
        <div class="linea-division"></div>
        <div class="ml-5">
            <section>
                <p class="divider">Consulta médica y compra de medicamentos a favor de Alejandro Salgado</p>

            </section>
            <div class="flex datos">
                <section class="izquierda">
                    <ds-paragraph type="p1" family="secondary" weight="semiBold" color="secondary">
                        <span slot="text" class="text-base text-left ">
                            N° Siniestro:</span>
                    </ds-paragraph>
                    <ds-paragraph type="p1" family="secondary" weight="semiBold" color="secondary">
                        <span slot="text" class="text-base text-left ">
                            Fecha emisión:</span>
                    </ds-paragraph>

                    <ds-paragraph type="p1" family="secondary" weight="semiBold" color="secondary">
                        <span slot="text" class="text-base text-left ">
                            Monto solicitado:</span>
                    </ds-paragraph>
                    <ds-paragraph type="p1" family="secondary" weight="semiBold" color="secondary">
                        <span slot="text" class="text-base subtitulo-key">
                            Tu reembolso se depositará en la siguiente cuenta bancaria:</span>
                    </ds-paragraph>

                    <ds-paragraph type="p1" family="secondary" weight="semiBold" color="secondary">
                        <span slot="text" class="text-base text-left ">
                            Banco</span>
                    </ds-paragraph>
                    <ds-paragraph type="p1" family="secondary" weight="semiBold" color="secondary">
                        <span slot="text" class="text-base text-left ">
                            Cuenta</span>
                    </ds-paragraph>
                    <ds-paragraph type="p1" family="secondary" color="primary">
                        <span slot="text" class="text-base subtitulo-key">
                            &nbsp;
                        </span>
                    </ds-paragraph>
                    <ds-paragraph type="p1" family="secondary" color="secondary">
                        <span slot="text" class="text-base text-left subtitulo-key">
                            Pronto recibirás en tu correo el resultado de tu solicitud. <br>
                            Ante cualquier consulta escríbenos a <a
                                href="mailto:contactovida@vidasecurity.cl">contactovida@vidasecurity.cl</a>
                        </span>
                    </ds-paragraph>
                </section>
                <section class="derecha">
                    <ds-paragraph type="p1" family="secondary" color="primary">
                        <span slot="text" class="text-base">
                            0000-86544-87</span>
                    </ds-paragraph>
                    <ds-paragraph type="p1" family="secondary" color="primary">
                        <span slot="text" class="text-base">
                            {{construirFechaActual()}}</span>
                    </ds-paragraph>

                    <ds-paragraph type="p1" family="secondary" color="primary">
                        <span slot="text" class="text-base">
                            $40.000</span>
                    </ds-paragraph>
                    <ds-paragraph type="p1" family="secondary" color="primary">
                        <span slot="text" class="text-base subtitulo-key">
                            &nbsp;
                        </span>
                    </ds-paragraph>

                    <ds-paragraph type="p1" family="secondary" color="primary">
                        <span slot="text" class="text-base">
                            Banco de Crédito en Inversiones</span>
                    </ds-paragraph>
                    <ds-paragraph type="p1" family="secondary" color="primary">
                        <span slot="text" class="text-base">
                            00000-0456-5678-0</span>
                    </ds-paragraph>
                </section>
            </div>
        </div>
        <!-- botón final-->
        <section class="flex items-center justify-end wrapper-boton-final">
            <ds-button id="ds-button-siguiente" [routerLink]="['/historial']" [size]="'s2'" variant="primary"
                slot-name="next-button-slot">
                <span slot="next-button-slot"> Volver al inicio </span>
            </ds-button>
        </section>
    </div>

</section>