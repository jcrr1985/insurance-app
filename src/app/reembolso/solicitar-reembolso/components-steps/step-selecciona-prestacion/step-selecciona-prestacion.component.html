<section class="flex items-center justify-start my-10">
  <app-custom-stepper [height]="customStepperSize.stepperTwo" [status]="stepperTwoSource()[0].status">
  </app-custom-stepper>
  <div id="stepperTwoContent" class="w-full">
    <ds-title class="col-span-12 mb-4" type="t4" family="secondary" weight="bold" color="primary">
      <span class="steps-title two" slot="text"
        [ngClass]="{'waitStepperText':this.stepperTwoSource()[0].status == 'waiting'}">Selecciona tu prestación</span>
    </ds-title>
    <div class="grid grid-cols-12 gap-2 pr-5">
      <ng-container *ngIf="getStepsStatus('stepOne_who', 'personaSeleccionada')">
        <ng-container *ngFor="let card of cards;let i = index">
          <app-card-option [ngClass]="[coldefined]" [status]="card.status" [name]="card.name"
            [prestacionName]="card.prestacion" (click)="setCard(card)">
          </app-card-option>
        </ng-container>
        <!-- Reembolsaste -->
        <ng-container
          *ngIf="tarjetaSeleccionada?.name==='atencionmedica'||tarjetaSeleccionada?.name==='atencionhospitalaria' ||tarjetaSeleccionada?.name==='examenes'">
          <ds-paragraph class="col-span-12 mb-5"
            [ngClass]="{'md:col-span-5':tarjetaSeleccionada?.name==='atencionmedica','md:col-span-7':tarjetaSeleccionada?.name==='atencionhospitalaria'}"
            type="p1" family="secondary" weight="semiBold" color="secondary">
            <span *ngIf="tarjetaSeleccionada?.name==='atencionmedica'" slot="text"
              class="font-bold">{{textPregunta.atencionmedica}}</span>
            <span *ngIf="tarjetaSeleccionada?.name==='atencionhospitalaria'" slot="text"
              class="font-bold">{{textPregunta.atencionhospitalaria}}</span>
            <span *ngIf="tarjetaSeleccionada?.name==='examenes'" slot="text"
              class="font-bold">{{textPregunta.examenes}}</span>
          </ds-paragraph>
          <div class="flex items-center justify-start col-span-12"
            [ngClass]="{'md:col-span-6':tarjetaSeleccionada?.name==='atencionmedica','md:col-span-3':tarjetaSeleccionada?.name==='atencionhospitalaria'}">
            <ds-radio class="mx-5" type="s1" family="primary" label="Si" name="reembolsoIsapre" value="si" (click)="
                setStepsStatus({
                  step: 'stepTwo_selectOption',
                  option: 'reembolsoPrevioIsapre',
                  value: 'si'
                })
              ">
            </ds-radio>
            <ds-radio class="mx-5" type="s1" family="primary" label="No" name="reembolsoIsapre" value="no" (click)="
                setStepsStatus({
                  step: 'stepTwo_selectOption',
                  option: 'reembolsoPrevioIsapre',
                  value: 'no'
                })
              ">
            </ds-radio>
          </div>
        </ng-container>
        <div class="col-span-12" *ngIf="
            getStepsStatus('stepTwo_selectOption', 'reembolsoPrevioIsapre') == 'no'
          ">
          <ds-messaging variant="warning" family="secondary" size="s2"
            title="Te recomendamos que realices primero tu reembolso en tu Isapre o Fonasa, ya que si no lo haces, el monto de reembolso puede ser menor">
          </ds-messaging>
        </div>
      </ng-container>
      <!-- Atención Hospitalaria -->
      <ng-container *ngIf="tarjetaSeleccionada?.name==='atencionhospitalaria'">  
        <div class="contenedor-global flex">
          <div class="contenedor-pregunta-hospitalario">
            <ds-paragraph class="md:col-span-5 col-span-12 mb-5" type="p1" family="secondary" weight="Bold" color="secondary">
              <span slot="text" class="texto">Estimado usuario, le recordamos que se consideran gastos Hospitalarios sólo los gastos que tienen 
                al menos un día de Hospitalización ¿Desea continuar?</span>
            </ds-paragraph>
          </div>
          <div class="contenedor-radiobuttons flex">
            <ds-radio class="m-top" type="s1" family="primary" label="Sí" name="atencionhospitalaria" value="si" (click)="
                setStepsStatus({
                  step: 'stepTwo_selectOption',
                  option: 'esAtencionHospitalaria',
                  value: 'si'
                })
              ">
            </ds-radio>
            <ds-radio class="m-top ml-2 mx-5" type="s1" family="primary" label="No" name="atencionhospitalaria" value="no" (click)="
                setStepsStatus({
                  step: 'stepTwo_selectOption',
                  option: 'esAtencionHospitalaria',
                  value: 'no'
                })
              ">
            </ds-radio>
          </div>
        </div>
      </ng-container>  
    </div>
  </div>
</section>