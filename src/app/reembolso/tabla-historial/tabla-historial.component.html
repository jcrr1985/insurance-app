<div class="h-full historial-wrapper">
  <div class="p-5 border-2 border-solid first-section rounded-xl">
    <div class="card-historial__container">
      <!-- header contenido -->
      <div class="card-historial__texts">
        <!-- Titulo -->
        <h3 class="h3-bold">¿Quieres solicitar un reembolso?</h3>
        <!-- texto -->
        <div class="textos-card__historial">
          <p><span class="bold2">Tiempos de espera:</span></p>
          <p><span class="bold2">Gastos médicos ambulatorios, ópticos, dentales y medicamentos:</span> 5 días hábiles
            desde el ingreso de la solicitud </p>
          <p><span class="bold2">Gastos hospitalarios:</span> 10 días hábiles desde el ingreso de la solicitud</p>
        </div>
      </div>
      <div class="button-wrapper" [routerLink]="['/solicitud']">
        <ds-button variant="primary" slot-name="text2" size="s3">
          <span class="bold1" slot="text2">Solicitar</span>
        </ds-button>
      </div>
    </div>
  </div>
  <div class="title-historial">
    <p appColored class="py-4 text-2xl title-1">Historial de reembolsos</p>
  </div>

  <!-- <ng-container *ngIf="showTable">
    
    <div class="grid w-full">
      <ds-table>
    
        <ds-table-header appColored #theader class="tabla-header" slot="header">
          <ds-table-header-column class="text-sm size-130px" slot="column"><span slot="element">Nombre Beneficiario</span>
          </ds-table-header-column>
          <ds-table-header-column slot="column"><span slot="element">N° Solicitud</span></ds-table-header-column>
          <ds-table-header-column slot="column"><span slot="element">Monto solicitado</span>
          </ds-table-header-column>
          <ds-table-header-column slot="column"><span slot="element">Fecha pago</span>
          </ds-table-header-column>
          <ds-table-header-column slot="column"><span slot="element">Estado</span>
          </ds-table-header-column>
          <ds-table-header-column slot="column"><span slot="element">Documento de liquidación</span>
          </ds-table-header-column>
        </ds-table-header>
    
  
        <ds-table-body slot="body" class="tabla-historial__row">
    
          <ng-container *ngFor="let registro of dataRegistros; let i = index">
            <ds-table-body-row slot="row">
              <ds-table-body-column slot="column">
                <span class="texto-normal" slot="element">{{
                  registro.nombre
                  }}</span>
                <span class="texto-especial" slot="element">{{
                  registro.parentesco
                  }}</span>
              </ds-table-body-column>
              <ds-table-body-column slot="column">
                <span class="texto-normal" slot="element">{{
                  registro.numSolicitud
                  }}</span>
              </ds-table-body-column>
              <ds-table-body-column slot="column">
                <span class="texto-normal" slot="element">{{
                  registro.montoSolicitado
                  }}</span>
              </ds-table-body-column>
              <ds-table-body-column slot="column">
                <span class="texto-normal" slot="element">{{
                  registro.fechaPago | date: "shortDate"
                  }}</span>
              </ds-table-body-column>
              <ds-table-body-column slot="column">
                <app-pill [texto]="registro.estado"></app-pill>
              </ds-table-body-column>
              <ds-table-body-column slot="column">
                <app-col-doc-liq (indiceEmitter)="toogleCollapsable($event)" [indice]="'registerColapsable'+i">
                </app-col-doc-liq>
              </ds-table-body-column>
            </ds-table-body-row>
    
              <ds-table-body-row [id]="'registerColapsable'+i" class="contenido-desplegable__container div-colapsable oculto" slot="row">
            
                <ds-table-body-row slot="row">
                  <ds-table-body-column slot="column">
                    <span class="texto-normal texto-header-colapsable" slot="element">Tipo Reembolso</span>
                  </ds-table-body-column>
                  <ds-table-body-column slot="column">
                    <span class="texto-normal texto-header-colapsable" slot="element">Monto Solicitado</span>
                  </ds-table-body-column>
                  <ds-table-body-column slot="column">
                    <span class="texto-normal texto-header-colapsable" slot="element">Monto Reembolsado</span>
                  </ds-table-body-column>
                  <ds-table-body-column slot="column">
                    <span class="texto-normal texto-header-colapsable" slot="element">Motivo del estado</span>
                  </ds-table-body-column>
                </ds-table-body-row>
  
                <ng-container *ngFor="let fila of filasColapsables">
                  <ds-table-body-row [id]="'registerColapsable'+i" class="div-colapsable oculto" slot="row">
                    <ds-table-body-column slot="column">
                      <span class="texto-normal" slot="element">
                        {{fila.motivo}}
                      </span>
                    </ds-table-body-column>
                    <ds-table-body-column slot="column">
                      <span class="texto-normal" slot="element">
                        {{fila.valor}}
                      </span>
                    </ds-table-body-column>
                    <ds-table-body-column slot="column">
                      <span class="texto-normal" slot="element">
                        {{fila.bonificacion}}
                      </span>
                    </ds-table-body-column>
                    <ds-table-body-column slot="column">
                      <span class="texto-normal" slot="element">
                        {{fila.observaciones}}
                      </span>
                    </ds-table-body-column>

                  </ds-table-body-row>
                </ng-container>
              </ds-table-body-row> 

          </ng-container>
        
        </ds-table-body>
      
      </ds-table>
    </div>  -->

<!-- TABLA NUEVA -->

  <ng-container *ngIf="showTable">
    <div class="table__container">
      <div class="table--header table--row">
        <span slot="element" class="size-130px">Nombre beneficiario</span>
        <span slot="element" class="size-100px">N° Solicitud</span>
        <span slot="element" class="size-100px">Monto solicitado</span>
        <span slot="element" class="size-100px">Fecha de pago</span>
        <span slot="element" class="size-160px center-text">Estado</span>
        <span slot="element" class="size-160px">Documento de liquidación</span>
      </div>
      
      <ng-container *ngFor="let registro of dataRegistros; let i = index" >
        <div class="table-info__container table--row">
          <div class="size-130px nombre-titular">
            <span class="texto-normal" slot="element">{{
              registro.nombre
              }}</span>
            <span class="texto-especial" slot="element">{{
              registro.parentesco
              }}</span>
          </div>
          <span class="texto-normal" slot="element" class="size-100px">{{
            registro.numSolicitud
            }}</span>

          <span class="texto-normal" slot="element" class="size-100px">{{
            registro.montoSolicitado
            }}</span>
  
          <span class="texto-normal" slot="element" class="size-100px">{{
            registro.fechaPago | date: "shortDate"
            }}</span>
        
          <app-pill [texto]="registro.estado" class="size-160px"></app-pill>
          <app-col-doc-liq class="size-160px" (indiceEmitter)="toogleCollapsable($event)" [indice]="'registerColapsable'+i">
          </app-col-doc-liq>
  
        </div>
        <!-- desplegable-->
        <div class="contenido-colapsable--borde">

          <div [id]="'registerColapsable'+i" class="div-colapsable vertical oculto" slot="row">
              <div class="header-colapsable">
                <span class="texto-normal texto-header-colapsable size-160px" slot="element">Tipo Reembolso</span>
                <span class="texto-normal texto-header-colapsable size-160px right-text" slot="element">Monto Solicitado</span>
                <span class="texto-normal texto-header-colapsable size-160px right-text" slot="element">Monto Reembolsado</span>
                <span class="texto-normal texto-header-colapsable size-160px" slot="element">Motivo del estado</span>
              </div>
              <div class="details">
              <!-- registros para el colapsable -->
              <ng-container *ngFor="let fila of filasColapsables">
                <div class="line-divider"></div>
                <div [id]="'registerColapsable'+i" class="info-row" slot="row">
  
                  <span class="texto-normal size-160px" slot="element">
                    {{fila.motivo}}
                  </span>
                  <span class="texto-normal size-160px right-text" slot="element">
                    {{fila.valor}}
                  </span>
                  <span class="texto-normal size-160px right-text" slot="element">
                    {{fila.bonificacion}}
                  </span>
                  <span class="texto-normal size-160px" slot="element">
                    {{fila.observaciones}}
                  </span>
                </div>
              </ng-container>
              <div _ngcontent-fav-c75="" class="doc-nota">
                <span _ngcontent-fav-c75="" class="descarga-documento-span">
                  <img _ngcontent-fav-c75="" src="./../../../../assets/images/svgs/descargar.svg" alt="descargar">
                </span>
                <span _ngcontent-fav-c75="">
                  <p _ngcontent-fav-c75="">Descargar nota de denuncio</p>
                </span>
              </div>
              </div>
            </div> <!--Fin desplegable-->

        </div>
      </ng-container>
    </div>


    <!-- Paginacion -->
    <div class="flex items-start justify-between w-full h-20">
      <div class="pagination-wrapper">
        <div class="css-1r2g4su">
          <ds-icon class="css-1h5x3dy" size="16" icon-name="bi-chevron-left"></ds-icon>
          <ds-pagination [initialPage]="pageSelected" [totalPages]="totalPaginas" (onchange)="eventSelectPage($event)">
          </ds-pagination>
          <ds-icon class="css-1h5x3dy" size="16" icon-name="bi-chevron-right"></ds-icon>
        </div>
      </div>
      <div class="">
        <ds-pagecounter (onchange)="eventPaginationSource($event)" [initialLabel]="'10'" [source]="sourcePagination">
        </ds-pagecounter>
      </div>

    </div>
  </ng-container>

</div>
<!-- <table class="tabla-colapsable">
                <thead>
                  <tr>
                    <th>tipo Reembolso</th>
                    <th>Monto Solicitado</th>
                    <th>Monto Reembolsado</th>
                    <th>Motivo del estado</th>  
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td>Consulta Médica</td>
                    <td>$10.0000</td>
                    <td>$10.0000</td>
                    <td>Observaciones</td>
                  </tr>
                  <div *ngIf="true" class="divider"></div>
                  <tr>
                    <td>Consulta de Medicamentos</td>
                    <td>$10.0000</td>
                    <td>$0</td>
                    <td>Observaciones</td>
                  </tr>
                </tbody>
              </table> -->

<!-- <div class="wrapper"  slot="element">
                <div class="row header"  slot="element">
                  <div class="col">Tipo Reembolso</div>
                  <div class="col">Monto Solicitado</div>
                  <div class="col">Monto Reembolsado</div>
                  <div class="col">Motivo del estado</div>
                </div>
                  <div class="row x" *ngFor="let fila of filasColapsables">
                  <div class="col" >{{fila.motivo}}</div>
                  <div class="col" >{{fila.valor}}</div>
                  <div class="col" >{{fila.bonificacion}}</div>
                  <div class="col" >{{fila.observaciones}}</div>
                </div>
              </div> -->